<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MS OAuth2 API æ–‡æ¡£</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 20px;
            margin-bottom: 40px;
            border-radius: 10px;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .api-base {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
            text-align: center;
            font-size: 1.1em;
        }
        
        .api-base code {
            background: #fff;
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: bold;
            color: #1976d2;
        }
        
        .section {
            background: white;
            margin-bottom: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .section-header {
            background: #f8f9fa;
            padding: 20px;
            border-bottom: 1px solid #dee2e6;
        }
        
        .section-title {
            font-size: 1.5em;
            color: #495057;
            margin-bottom: 5px;
        }
        
        .section-description {
            color: #6c757d;
            font-size: 1em;
        }
        
        .section-content {
            padding: 20px;
        }
        
        .endpoint {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 15px;
            border-left: 4px solid #007bff;
        }
        
        .method {
            display: inline-block;
            background: #28a745;
            color: white;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .url {
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 1.1em;
            color: #007bff;
        }
        
        .params-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .params-table th,
        .params-table td {
            border: 1px solid #dee2e6;
            padding: 12px;
            text-align: left;
        }
        
        .params-table th {
            background-color: #f8f9fa;
            font-weight: 600;
        }
        
        .params-table .required {
            color: #dc3545;
            font-weight: bold;
        }
        
        .params-table .optional {
            color: #6c757d;
        }
        
        .code-block {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
        }
        
        .code-block code {
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.9em;
            color: #495057;
        }
        
        .response-example {
            background: #e8f5e8;
            border: 1px solid #c3e6c3;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .response-example h4 {
            color: #155724;
            margin-bottom: 10px;
        }
        
        .highlight {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .highlight strong {
            color: #856404;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #6c757d;
            border-top: 1px solid #dee2e6;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>MS OAuth2 API</h1>
            <p>å¾®è½¯ OAuth2 é‚®ä»¶ API æ–‡æ¡£</p>
        </div>

        <div class="api-base">
            <strong>API åŸºç¡€åœ°å€:</strong> 
            <code>https://mail.150420.xyz</code>
        </div>

        <div class="highlight">
            <strong>æ–°åŠŸèƒ½:</strong> API ç°åœ¨æ”¯æŒè‡ªåŠ¨æå– 6 ä½æ•°å­—éªŒè¯ç ï¼æ‰€æœ‰é‚®ä»¶ API éƒ½ä¼šåœ¨å“åº”ä¸­åŒ…å« <code>verification_code</code> å­—æ®µã€‚
        </div>

        <div class="section">
            <div class="section-header">
                <h2 class="section-title">ğŸ“§ è·å–æœ€æ–°ä¸€å°é‚®ä»¶</h2>
                <p class="section-description">è·å–æŒ‡å®šé‚®ç®±æ–‡ä»¶å¤¹ä¸­çš„æœ€æ–°é‚®ä»¶ï¼Œè‡ªåŠ¨æå–éªŒè¯ç </p>
            </div>
            <div class="section-content">
                <div class="endpoint">
                    <span class="method">GET</span>
                    <span class="url">/api/mail-new</span>
                </div>

                <table class="params-table">
                    <thead>
                        <tr>
                            <th>å‚æ•°å</th>
                            <th>ç±»å‹</th>
                            <th>å¿…éœ€</th>
                            <th>è¯´æ˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>refresh_token</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>OAuth2 åˆ·æ–°ä»¤ç‰Œ</td>
                        </tr>
                        <tr>
                            <td>client_id</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>å¾®è½¯åº”ç”¨å®¢æˆ·ç«¯ ID</td>
                        </tr>
                        <tr>
                            <td>email</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>é‚®ç®±åœ°å€</td>
                        </tr>
                        <tr>
                            <td>mailbox</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>é‚®ç®±æ–‡ä»¶å¤¹ (INBOX æˆ– Junk)</td>
                        </tr>
                        <tr>
                            <td>password</td>
                            <td>string</td>
                            <td class="optional">å¦</td>
                            <td>API è®¿é—®å¯†ç  (å¦‚æœè®¾ç½®äº†ç¯å¢ƒå˜é‡)</td>
                        </tr>
                        <tr>
                            <td>response_type</td>
                            <td>string</td>
                            <td class="optional">å¦</td>
                            <td>è¿”å›æ ¼å¼ (json æˆ– htmlï¼Œé»˜è®¤ json)</td>
                        </tr>
                    </tbody>
                </table>

                <h4>è°ƒç”¨ç¤ºä¾‹:</h4>
                <div class="code-block">
                    <code>
curl "https://mail.150420.xyz/api/mail-new?refresh_token=YOUR_TOKEN&client_id=YOUR_CLIENT_ID&email=your@email.com&mailbox=INBOX&password=YOUR_PASSWORD"
                    </code>
                </div>

                <div class="response-example">
                    <h4>å“åº”ç¤ºä¾‹:</h4>
                    <pre><code>{
  "send": "\"KlingAI\" <klingai@user-support.klingai.com>",
  "subject": "KlingAI Account Verification",
  "text": "æ‚¨æ˜¯KlingAIçš„éªŒè¯ç ...",
  "html": "&lt;div&gt;éªŒè¯ç : 233645&lt;/div&gt;",
  "date": "2025-12-01T09:58:25.000Z",
  "verification_code": "233645"
}</code></pre>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header">
                <h2 class="section-title">ğŸ“‚ è·å–å…¨éƒ¨é‚®ä»¶</h2>
                <p class="section-description">è·å–æŒ‡å®šé‚®ç®±æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰é‚®ä»¶</p>
            </div>
            <div class="section-content">
                <div class="endpoint">
                    <span class="method">GET</span>
                    <span class="url">/api/mail-all</span>
                </div>

                <table class="params-table">
                    <thead>
                        <tr>
                            <th>å‚æ•°å</th>
                            <th>ç±»å‹</th>
                            <th>å¿…éœ€</th>
                            <th>è¯´æ˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>refresh_token</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>OAuth2 åˆ·æ–°ä»¤ç‰Œ</td>
                        </tr>
                        <tr>
                            <td>client_id</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>å¾®è½¯åº”ç”¨å®¢æˆ·ç«¯ ID</td>
                        </tr>
                        <tr>
                            <td>email</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>é‚®ç®±åœ°å€</td>
                        </tr>
                        <tr>
                            <td>mailbox</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>é‚®ç®±æ–‡ä»¶å¤¹ (INBOX æˆ– Junk)</td>
                        </tr>
                        <tr>
                            <td>password</td>
                            <td>string</td>
                            <td class="optional">å¦</td>
                            <td>API è®¿é—®å¯†ç  (å¦‚æœè®¾ç½®äº†ç¯å¢ƒå˜é‡)</td>
                        </tr>
                    </tbody>
                </table>

                <h4>è°ƒç”¨ç¤ºä¾‹:</h4>
                <div class="code-block">
                    <code>
curl "https://mail.150420.xyz/api/mail-all?refresh_token=YOUR_TOKEN&client_id=YOUR_CLIENT_ID&email=your@email.com&mailbox=INBOX&password=YOUR_PASSWORD"
                    </code>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header">
                <h2 class="section-title">ğŸ—‘ï¸ æ¸…ç©ºæ”¶ä»¶ç®±</h2>
                <p class="section-description">æ¸…ç©ºæŒ‡å®šçš„æ”¶ä»¶ç®±</p>
            </div>
            <div class="section-content">
                <div class="endpoint">
                    <span class="method">GET</span>
                    <span class="url">/api/process-inbox</span>
                </div>

                <table class="params-table">
                    <thead>
                        <tr>
                            <th>å‚æ•°å</th>
                            <th>ç±»å‹</th>
                            <th>å¿…éœ€</th>
                            <th>è¯´æ˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>refresh_token</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>OAuth2 åˆ·æ–°ä»¤ç‰Œ</td>
                        </tr>
                        <tr>
                            <td>client_id</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>å¾®è½¯åº”ç”¨å®¢æˆ·ç«¯ ID</td>
                        </tr>
                        <tr>
                            <td>email</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>é‚®ç®±åœ°å€</td>
                        </tr>
                        <tr>
                            <td>password</td>
                            <td>string</td>
                            <td class="optional">å¦</td>
                            <td>API è®¿é—®å¯†ç  (å¦‚æœè®¾ç½®äº†ç¯å¢ƒå˜é‡)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="section">
            <div class="section-header">
                <h2 class="section-title">ğŸ—‘ï¸ æ¸…ç©ºåƒåœ¾ç®±</h2>
                <p class="section-description">æ¸…ç©ºæŒ‡å®šçš„åƒåœ¾ç®±</p>
            </div>
            <div class="section-content">
                <div class="endpoint">
                    <span class="method">GET</span>
                    <span class="url">/api/process-junk</span>
                </div>

                <table class="params-table">
                    <thead>
                        <tr>
                            <th>å‚æ•°å</th>
                            <th>ç±»å‹</th>
                            <th>å¿…éœ€</th>
                            <th>è¯´æ˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>refresh_token</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>OAuth2 åˆ·æ–°ä»¤ç‰Œ</td>
                        </tr>
                        <tr>
                            <td>client_id</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>å¾®è½¯åº”ç”¨å®¢æˆ·ç«¯ ID</td>
                        </tr>
                        <tr>
                            <td>email</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>é‚®ç®±åœ°å€</td>
                        </tr>
                        <tr>
                            <td>password</td>
                            <td>string</td>
                            <td class="optional">å¦</td>
                            <td>API è®¿é—®å¯†ç  (å¦‚æœè®¾ç½®äº†ç¯å¢ƒå˜é‡)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="section">
            <div class="section-header">
                <h2 class="section-title">âœ‰ï¸ å‘é€é‚®ä»¶</h2>
                <p class="section-description">ä½¿ç”¨ OAuth2 å‘é€é‚®ä»¶</p>
            </div>
            <div class="section-content">
                <div class="endpoint">
                    <span class="method">GET</span>
                    <span class="url">/api/send-mail</span>
                </div>

                <table class="params-table">
                    <thead>
                        <tr>
                            <th>å‚æ•°å</th>
                            <th>ç±»å‹</th>
                            <th>å¿…éœ€</th>
                            <th>è¯´æ˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>refresh_token</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>OAuth2 åˆ·æ–°ä»¤ç‰Œ</td>
                        </tr>
                        <tr>
                            <td>client_id</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>å¾®è½¯åº”ç”¨å®¢æˆ·ç«¯ ID</td>
                        </tr>
                        <tr>
                            <td>email</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>å‘ä»¶äººé‚®ç®±åœ°å€</td>
                        </tr>
                        <tr>
                            <td>to</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>æ”¶ä»¶äººé‚®ç®±åœ°å€</td>
                        </tr>
                        <tr>
                            <td>subject</td>
                            <td>string</td>
                            <td class="required">æ˜¯</td>
                            <td>é‚®ä»¶ä¸»é¢˜</td>
                        </tr>
                        <tr>
                            <td>text</td>
                            <td>string</td>
                            <td class="optional">å¦</td>
                            <td>çº¯æ–‡æœ¬å†…å®¹ (ä¸ html äºŒé€‰ä¸€)</td>
                        </tr>
                        <tr>
                            <td>html</td>
                            <td>string</td>
                            <td class="optional">å¦</td>
                            <td>HTML å†…å®¹ (ä¸ text äºŒé€‰ä¸€)</td>
                        </tr>
                        <tr>
                            <td>send_password</td>
                            <td>string</td>
                            <td class="optional">å¦</td>
                            <td>å‘é€é‚®ä»¶å¯†ç  (å¦‚æœè®¾ç½®äº†ç¯å¢ƒå˜é‡)</td>
                        </tr>
                    </tbody>
                </table>

                <h4>è°ƒç”¨ç¤ºä¾‹:</h4>
                <div class="code-block">
                    <code>
curl "https://mail.150420.xyz/api/send-mail?refresh_token=YOUR_TOKEN&client_id=YOUR_CLIENT_ID&email=your@email.com&to=target@email.com&subject=æµ‹è¯•é‚®ä»¶&text=è¿™æ˜¯æµ‹è¯•å†…å®¹&send_password=YOUR_PASSWORD"
                    </code>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header">
                <h2 class="section-title">ğŸ”§ ç¯å¢ƒå˜é‡é…ç½®</h2>
                <p class="section-description">éƒ¨ç½²åˆ° Vercel æ—¶éœ€è¦è®¾ç½®çš„ç¯å¢ƒå˜é‡</p>
            </div>
            <div class="section-content">
                <table class="params-table">
                    <thead>
                        <tr>
                            <th>å˜é‡å</th>
                            <th>è¯´æ˜</th>
                            <th>ç¤ºä¾‹å€¼</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>PASSWORD</td>
                            <td>é‚®ä»¶è¯»å– API è®¿é—®å¯†ç </td>
                            <td>your_read_password_123</td>
                        </tr>
                        <tr>
                            <td>SEND_PASSWORD</td>
                            <td>é‚®ä»¶å‘é€ API è®¿é—®å¯†ç </td>
                            <td>your_send_password_456</td>
                        </tr>
                    </tbody>
                </table>

                <div class="highlight">
                    <strong>æ³¨æ„:</strong> å¦‚æœä¸è®¾ç½®ç¯å¢ƒå˜é‡ï¼ŒAPI å°†åœ¨æ²¡æœ‰å¯†ç éªŒè¯çš„æƒ…å†µä¸‹å·¥ä½œã€‚ä¸ºäº†å®‰å…¨èµ·è§ï¼Œå»ºè®®è®¾ç½®å¯†ç ä¿æŠ¤ã€‚
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header">
                <h2 class="section-title">ğŸ“‹ å“åº”æ ¼å¼è¯´æ˜</h2>
                <p class="section-description">API å“åº”æ•°æ®æ ¼å¼</p>
            </div>
            <div class="section-content">
                <h4>æˆåŠŸå“åº”:</h4>
                <div class="response-example">
                    <pre><code>{
  "send": "å‘ä»¶äººé‚®ç®±",
  "subject": "é‚®ä»¶ä¸»é¢˜",
  "text": "çº¯æ–‡æœ¬å†…å®¹",
  "html": "HTMLå†…å®¹",
  "date": "2025-12-01T09:58:25.000Z",
  "verification_code": "123456"  // å¦‚æœé‚®ä»¶ä¸­åŒ…å«6ä½æ•°å­—éªŒè¯ç 
}</code></pre>
                </div>

                <h4>é”™è¯¯å“åº”:</h4>
                <div class="code-block">
                    <code>
{
  "error": "é”™è¯¯æè¿°ä¿¡æ¯"
}
                    </code>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>MS OAuth2 API - ç®€åŒ–å¾®è½¯é‚®ä»¶æ“ä½œæµç¨‹</p>
            <p>å¦‚æœ‰é—®é¢˜è¯·è”ç³»ç®¡ç†å‘˜</p>
        </div>
    </div>
</body>
</html>